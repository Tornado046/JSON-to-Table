<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>JSON a Tabla</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
textarea { width: 100%; height: 200px; }
table { width: 100%; border-collapse: collapse; margin-top: 20px; }
th, td { border: 1px solid #aaa; padding: 5px; text-align: left; }
th { background: #ddd; }
</style>
</head>
<body>
<h1>JSON a Tabla</h1>
<textarea id="jsonInput" placeholder="Pega tu JSON aquí"></textarea>
<button onclick="generarTabla()">Generar Tabla</button>
<div id="tablaContainer"></div>

<script>
function generarTabla() {
    let container = document.getElementById('tablaContainer');
    container.innerHTML = '';
    let jsonText = document.getElementById('jsonInput').value;
    let jsonData;
    try {
        jsonData = JSON.parse(jsonText);
    } catch (e) {
        container.innerHTML = '<p style="color:red">JSON no válido</p>';
        return;
    }

    function recorrer(obj, table) {
        if (Array.isArray(obj)) {
            obj.forEach(item => recorrer(item, table));
        } else if (typeof obj === 'object' && obj !== null) {
            let row = table.insertRow();
            Object.keys(obj).forEach(key => {
                if (!table.headersAdded) {
                    let th = document.createElement('th');
                    th.textContent = key;
                    table.tHead.appendChild(th);
                }
                let cell = row.insertCell();
                let val = obj[key];
                if (typeof val === 'object') val = JSON.stringify(val);
                cell.textContent = val;
            });
            table.headersAdded = true;
        }
    }

    let table = document.createElement('table');
    table.tHead = document.createElement('tr');
    table.appendChild(table.tHead);
    recorrer(jsonData, table);
    container.appendChild(table);
}
</script>
</body>
</html>
